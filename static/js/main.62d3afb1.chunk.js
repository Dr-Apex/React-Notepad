(this.webpackJsonpnotepad=this.webpackJsonpnotepad||[]).push([[0],{48:function(e,t,n){e.exports=n(78)},76:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),o=n.n(c),u=n(4),l=n(16),i=n(40),s=n(3),p=n(13),m=n(46),d=function(e){var t=e.text,n=(e.type,e.placeholder),c=e.children,o=Object(m.a)(e,["text","type","placeholder","children"]),u=Object(a.useState)(!1),l=Object(p.a)(u,2),i=l[0],s=l[1];return r.a.createElement("section",o,i?r.a.createElement("div",{onBlur:function(){return s(!1)},onKeyDown:function(e){}},c):r.a.createElement("div",{onClick:function(){return s(!0)}},r.a.createElement("span",null,t||n||"Editable content")))},E=n(5),f=n.n(E),b=n(14),O=n(41),v=n.n(O).a.create({baseURL:"http://localhost:3001"}),h=function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.delete("/notes/".concat(e));case 2:n({type:"DELETE_NOTE",payload:e}),window.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=n(83),y=function(e){var t=e.nbid,n=Object(u.b)(),a=Object(u.c)((function(e){return Object.values(e.notes)})),c=function(){var e;0===a.length?console.log("Select notebook to delete!"):(n((e=t,function(){var t=Object(b.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.delete("/notebook/".concat(e));case 2:n({type:"DELETE_NOTEBOOK",payload:e}),window.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),a.forEach((function(e){if(e.nbid!==t)return null;n(h(e.id))})))};return r.a.createElement(j.a,{onClick:function(){return c()},variant:"danger"},"Delete")},N=n(82),w=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return Object.values(e.notebook)})),n=Object(a.useState)(""),c=Object(p.a)(n,2),o=c[0],l=c[1],i=Object(a.useState)(""),s=Object(p.a)(i,2),m=s[0],E=s[1],O=Object(a.useState)(null),h=Object(p.a)(O,2),w=h[0],T=h[1],x=function(t){var n;t.preventDefault(),e((n=o,function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/notebook",{name:n});case 2:a=e.sent,t({type:"CREATE_NOTEBOOK",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return r.a.createElement("div",{className:"notebook"},r.a.createElement("form",{onSubmit:function(e){return x(e)}},r.a.createElement("h1",null,"Notebook"),r.a.createElement(j.a,{as:"input",className:"creatBut",type:"submit",value:"Create"}),r.a.createElement("input",{className:"create",type:"text",placeholder:"+ new notebook",onChange:function(e){return l(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(N.a,null,function(){if(void 0===t[0])return r.a.createElement("div",null,"Loading...");var n=function(t){var n;T(t),e((n=t,function(e){console.log(n),e({type:"CURRENT_NBID",payload:n})})),e(function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/notes");case 2:n=e.sent,t({type:"FETCH_NOTES",payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return t.map((function(t){var a=w===t.id?"selected":null;return r.a.createElement(N.a.Item,{as:"li",className:"notebook-list ".concat(a),key:t.id},r.a.createElement(d,{text:t.name,placeholder:"Rename",type:"input"},r.a.createElement("input",{type:"text",placeholder:t.name,onChange:function(e){return E(e.target.value)},onBlur:function(){return e((n=t.id,a=m,function(){var e=Object(b.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.patch("/notebook/".concat(n),{name:a});case 2:r=e.sent,t({type:"EDIT_NOTEBOOK",payload:r.data}),window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n,a}})),r.a.createElement(y,{nbid:t.id}),r.a.createElement(j.a,{onClick:function(){return n(t.id)},variant:"success"},"Open"))}))}())))},T=n(15),x=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return Object.values(e.notes)})),n=Object(u.c)((function(e){return e.nbid}));return r.a.createElement("div",{className:"notes"},r.a.createElement("h1",null,"Notes"),r.a.createElement("div",null,r.a.createElement(N.a,null,function(){if(void 0!==t[0])return t.map((function(t){return t.nbid===n?r.a.createElement(N.a.Item,{as:"li",className:"notes-list",key:t.id},r.a.createElement(T.a,{to:"/notepad/note/".concat(t.id)},t.name),r.a.createElement(j.a,{onClick:function(){return e(h(t.id))},variant:"danger"},"Delete")):null}));console.log("Loading...")}())),r.a.createElement(T.a,{className:"new-note",to:"/notepad/new-note"},"+"))},g=n(79),k=n(80),_=n(81),C=function(){var e=Object(u.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/notebook");case 2:n=e.sent,t({type:"FETCH_NOTEBOOKS",payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),r.a.createElement(g.a,null,r.a.createElement(k.a,null,r.a.createElement(_.a,null,r.a.createElement(w,null)),r.a.createElement(_.a,null,r.a.createElement(x,null))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"app_name"},"React Notepad 2020 v1.0.0")))},S=n(8),D=Object(S.a)(),B=function(e){var t=e.match.params.id,n=Object(u.b)(),c=Object(u.c)((function(e){return e.notes[t]})),o=Object(a.useState)(c.name),l=Object(p.a)(o,2),i=l[0],s=l[1],m=Object(a.useState)(c.value),E=Object(p.a)(m,2),O=E[0],h=E[1],j=function(e){var a,r,c;e.preventDefault(),console.log(O),n((a=t,r=i,c=O,function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.patch("/notes/".concat(a),{name:r,value:c});case 2:n=e.sent,t({type:"EDIT_NOTE",payload:n.data}),window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),D.push("/")};return r.a.createElement("div",{className:"notes-content"},r.a.createElement(T.a,{to:"/"},"Back"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){return j(e)}},r.a.createElement("div",{className:"title"},r.a.createElement(d,{text:c.name,placeholder:"Rename",type:"input"},r.a.createElement("input",{type:"text",placeholder:c.name,onChange:function(e){return s(e.target.value)}}))),r.a.createElement("div",{className:"value"},r.a.createElement(d,{text:c.value,placeholder:"Rename",type:"textarea"},r.a.createElement("textarea",{placeholder:c.value,onChange:function(e){return h(e.target.value)}}))),r.a.createElement("input",{className:"submit",type:"submit"}))))},R=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.nbid})),n=Object(a.useState)(""),c=Object(p.a)(n,2),o=c[0],l=c[1],i=Object(a.useState)(""),s=Object(p.a)(i,2),m=s[0],d=s[1],E=function(n){n.preventDefault(),e(function(e,t,n){return function(){var a=Object(b.a)(f.a.mark((function a(r){var c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.post("/notes",{name:e,value:t,nbid:n});case 2:c=a.sent,r({type:"CREATE_NOTE",payload:c.data}),window.location.reload();case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(o,m,t)),D.push("/")};return r.a.createElement("div",{className:"create-new-note"},r.a.createElement("div",{className:"id"},"Notebook ID: ",t),r.a.createElement(T.a,{to:"/"},"Back"),r.a.createElement("form",{onSubmit:function(e){return E(e)}},r.a.createElement("input",{className:"title",type:"text",placeholder:"Title",onChange:function(e){return l(e.target.value)}}),r.a.createElement("textarea",{className:"content",placeholder:"type something...",onChange:function(e){return d(e.target.value)}}),r.a.createElement("input",{className:"submit",type:"submit"})))},K=(n(76),function(){return r.a.createElement("div",null,r.a.createElement(s.b,{history:D},r.a.createElement("div",null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:C}),r.a.createElement(s.a,{path:"/notepad/note/:id",exact:!0,component:B}),r.a.createElement(s.a,{path:"/notepad/new-note",exact:!0,component:R})))))}),I=n(9),L=n(18),A=n.n(L),F=Object(l.c)({notebook:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"CREATE_NOTEBOOK":return Object(I.a)(Object(I.a)({},e),{},{payload:a});case"FETCH_NOTEBOOKS":return Object(I.a)(Object(I.a)({},e),A.a.mapKeys(a,"id"));case"EDIT_NOTEBOOK":return Object(I.a)(Object(I.a)({},e),{},{payload:a});case"DELETE_NOTEBOOK":return A.a.omit(e,a);default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"CREATE_NOTE":return Object(I.a)(Object(I.a)({},e),{},{payload:a});case"FETCH_NOTES":return Object(I.a)(Object(I.a)({},e),A.a.mapKeys(a,"id"));case"EDIT_NOTE":return Object(I.a)(Object(I.a)({},e),{},{payload:a});case"DELETE_NOTE":return A.a.omit(e,a);default:return e}},nbid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"CURRENT_NBID":return a;default:return e}}}),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,U=Object(l.e)(F,H(Object(l.a)(i.a)));o.a.render(r.a.createElement(u.a,{store:U},r.a.createElement(K,null)),document.querySelector("#root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.62d3afb1.chunk.js.map